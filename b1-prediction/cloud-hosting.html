
<!DOCTYPE html>


<html lang="en" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>7. Cloud Hosting &#8212; ECE 386</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  <!--
    this give us a css class that will be invisible only if js is disabled
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/sphinx-book-theme.css?v=a3416100" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- So that users can add custom icons -->
  <script src="../_static/scripts/fontawesome.js?digest=8878045cc6db502f8baf"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf" />

    <script src="../_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="../_static/doctools.js?v=9a2dae69"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=f281be69"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="../_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'b1-prediction/cloud-hosting';</script>
    <link rel="icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="8. Lab 1: Handwritten Digits - FastAPI" href="lab-digits-api.html" />
    <link rel="prev" title="6. ICE 2: Handwritten Digits - DNN" href="ice-digits-dnn.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  <meta name="docsearch:version" content="" />
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="../intro.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../_static/logo.png" class="logo__image only-light" alt="ECE 386 - Home"/>
    <img src="../_static/logo.png" class="logo__image only-dark pst-js-only" alt="ECE 386 - Home"/>
  
  
</a></div>
        <div class="sidebar-primary-item">

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../intro.html">
                    ECE 386: AI Hardware Applications
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Machine Prediction</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="hello-colab.html">1. Hello, Colab!</a></li>
<li class="toctree-l1"><a class="reference internal" href="networks-tooling.html">2. Networks and Tooling</a></li>
<li class="toctree-l1"><a class="reference internal" href="prediction-machines.html">3. Prediction Machines</a></li>
<li class="toctree-l1"><a class="reference internal" href="datasets.html">4. Datasets</a></li>
<li class="toctree-l1"><a class="reference internal" href="ice-kmeans.html">5. ICE 1: K-Means Clustering</a></li>
<li class="toctree-l1"><a class="reference internal" href="ice-digits-dnn.html">6. ICE 2: Handwritten Digits - DNN</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">7. Cloud Hosting</a></li>
<li class="toctree-l1"><a class="reference internal" href="lab-digits-api.html">8. Lab 1: Handwritten Digits - FastAPI</a></li>

<li class="toctree-l1"><a class="reference internal" href="cc-prediction.html">10. C&amp;C: Prediction and Dimensionality</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Edge Inference</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../b2-edge/edge-intro.html">11. Edge Inference Intro</a></li>
<li class="toctree-l1"><a class="reference internal" href="../b2-edge/lab-cortex-benchmark.html">12. Lab 2: Cortex DSP Benchmark</a></li>
<li class="toctree-l1"><a class="reference internal" href="../b2-edge/cortex-architecture.html">13. ARM Cortex Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../b2-edge/quantization.html">14. Quantization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../b2-edge/lab-impulse-kws.html">15. Lab 3: Edge Impulse KWS</a></li>

<li class="toctree-l1"><a class="reference internal" href="../b2-edge/memory-management.html">17. Memory Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../b2-edge/cc-edge.html">18. C&amp;C: Edge Inference</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Development Boards</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../b3-devboard/lab-cat-dog.html">19. Lab 3: Transfer Learning with Cats vs. Dogs</a></li>


<li class="toctree-l1"><a class="reference internal" href="../b3-devboard/containerization.html">22. Containerization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../b3-devboard/ice-whisper.html">23. ICE 3: Whisper Transcription</a></li>
<li class="toctree-l1"><a class="reference internal" href="../b3-devboard/gpu-architecture.html">24. GPU Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../b3-devboard/ice-gpu-acceleration.html">25. ICE 4: GPU Acceleration</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Large Language Models</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../b4-llm/text-vectorization.html">26. Text Vectorization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../b4-llm/llm.html">27. Large Language Models</a></li>
<li class="toctree-l1"><a class="reference internal" href="../b4-llm/lab-prompt-engineering.html">28. Lab 5: Prompt Engineering</a></li>

<li class="toctree-l1"><a class="reference internal" href="../b4-llm/cc-gpu-llm.html">30. C&amp;C GPUs and LLMs</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Final Block</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../b5-final/final-project.html">31. Final Project</a></li>




<li class="toctree-l1"><a class="reference internal" href="../b5-final/command-risk.html">36. Command and Risk</a></li>
<li class="toctree-l1"><a class="reference internal" href="../b5-final/student-choice.html">37. Student Choice</a></li>
<li class="toctree-l1"><a class="reference internal" href="../b5-final/alternative-architectures.html">38. Alternative Architectures</a></li>
<li class="toctree-l1"><a class="reference internal" href="../b5-final/supercomputers.html">39. Super Computers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../b5-final/wrapup.html">40. Wrap and Critique</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Appendix</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../appendix/flash-edge-impulse.html">Flash Edge Impulse Firmware to Arduino</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
      <div class="sidebar-primary-item">
<div id="ethical-ad-placement"
      class="flat"
      data-ea-publisher="readthedocs"
      data-ea-type="readthedocs-sidebar"
      data-ea-manual="true">
</div></div>
  </div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/usafa-ece/ece386-book" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/usafa-ece/ece386-book/issues/new?title=Issue%20on%20page%20%2Fb1-prediction/cloud-hosting.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../_sources/b1-prediction/cloud-hosting.md" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.md</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button>


<button class="btn btn-sm pst-navbar-icon search-button search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
</button>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Cloud Hosting</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pre-reading">7.1. Pre-Reading</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#the-cloud">7.2. The Cloud</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cloud-resources">Cloud Resources</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#virtual-machines">Virtual Machines</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#object-storage">Object Storage</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#security">Security</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#web-application-architecture">7.3. Web Application Architecture</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#apis">APIs</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#fastapi">FastAPI</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#next-steps-fastapi-demo">7.4. Next Steps: FastAPI Demo</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#terminal-1">Terminal 1</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#create-python-script">Create python script</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#setup-virtual-environment">Setup Virtual Environment</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#run-the-script">Run the script</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#terminal-2">Terminal 2</a></li>
</ul>
</li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="cloud-hosting">
<h1><span class="section-number">7. </span>Cloud Hosting<a class="headerlink" href="#cloud-hosting" title="Link to this heading">#</a></h1>
<section id="pre-reading">
<h2><span class="section-number">7.1. </span>Pre-Reading<a class="headerlink" href="#pre-reading" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p><a class="reference external" href="https://www.cloudflare.com/learning/cloud/what-is-the-cloud/">Cloudflare: What is the Cloud</a></p></li>
<li><p>IBM’s <a class="reference external" href="https://www.ibm.com/topics/api">What is an API (application programming interface)?</a></p></li>
</ul>
<p>and</p>
<iframe
  src="https://iframe.videodelivery.net/ad2223e095b603c44858996d4a727ea4"
  width="640"
  height="360"
  frameborder="0"
  allow="autoplay; encrypted-media"
  allowfullscreen>
</iframe>
</section>
<section id="the-cloud">
<h2><span class="section-number">7.2. </span>The Cloud<a class="headerlink" href="#the-cloud" title="Link to this heading">#</a></h2>
<p>The ☁️ is just you renting time on someone elses computer.</p>
<p>AWS, Azure, and <a class="reference external" href="https://www.digitalocean.com/products/droplets">Digital Ocean</a> are all commercial cloud providers that will let you pay to rent their servers.
These servers are in locations throughout the world!
Organizations can also run their own private “cloud,” meaning servers that they directly control and manage.</p>
<p>The <a class="reference external" href="https://aws.amazon.com/compliance/shared-responsibility-model/">Shared Responsibility Model</a> is extremely helpful for understanding the cloud:</p>
<figure class="align-default" id="id1">
<img alt="https://d1.awsstatic.com/security-center/Shared_Responsibility_Model_V2.59d1eccec334b366627e9295b304202faf7b899b.jpg" src="https://d1.awsstatic.com/security-center/Shared_Responsibility_Model_V2.59d1eccec334b366627e9295b304202faf7b899b.jpg" />
<figcaption>
<p><span class="caption-number">Fig. 7.1 </span><span class="caption-text">The AWS Shared Responsibility Model details the divide between who secures the hardware and virtualization software “of” the cloud (AWS) vs. the applications running “in” the cloud (the customer).</span><a class="headerlink" href="#id1" title="Link to this image">#</a></p>
</figcaption>
</figure>
<p>It is <em>astonishing</em> what cloud providers can serve you! <strong>But that depends…</strong></p>
<blockquote class="twitter-tweet"><p lang="en" dir="ltr">On how well your manners are, and how big your pocketbook is. <a href="https://t.co/rW1GyKhSpI">pic.twitter.com/rW1GyKhSpI</a></p>&mdash; Star Wars (@starwars) <a href="https://twitter.com/starwars/status/1523738635970834432?ref_src=twsrc%5Etfw">May 9, 2022</a></blockquote> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
<section id="cloud-resources">
<h3>Cloud Resources<a class="headerlink" href="#cloud-resources" title="Link to this heading">#</a></h3>
<p>This is a crazy complex space. You can get various certifications or complete free learning:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://aws.amazon.com/training/">AWS Training and Certification</a></p>
<ul>
<li><p>(<a class="reference external" href="https://aws.amazon.com/certification/certified-solutions-architect-associate/">AWS Certified Cloud Solutions Architect</a>
is the one to start with if you <em>really</em> want to get into this world.)</p></li>
</ul>
</li>
<li><p><a class="reference external" href="https://learn.microsoft.com/en-us/training/azure/">Azure Training</a></p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This content is for educational purposes only.
Nothing on this page constitutes an endorsement by the U.S. Government.</p>
</div>
<p>AWS is currently the world leader, with Microsoft Azure and Google Cloud Provider (GCP) nipping at its heals.</p>
<p>DigitalOcean is smaller, but more user friendly (but also less capable) and oftentimes more affordable.
They also offer <a class="reference external" href="https://www.digitalocean.com/github-students">$200 free credit via GitHub Student</a>.</p>
<section id="virtual-machines">
<h4>Virtual Machines<a class="headerlink" href="#virtual-machines" title="Link to this heading">#</a></h4>
<p>You can have your very own virtual machine through <a class="reference external" href="https://aws.amazon.com/ec2/">AWS EC2</a>
or <a class="reference external" href="https://www.digitalocean.com/products/droplets">DigitalOcean Droplets</a>.</p>
<p>As of October 2024, here is the cheapest DO Droplet:</p>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Memory</p></th>
<th class="head"><p>vCPU</p></th>
<th class="head"><p>Transfer</p></th>
<th class="head"><p>SSD</p></th>
<th class="head"><p>$/hr</p></th>
<th class="head"><p>$/mo</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>512 MiB</p></td>
<td><p>1 vCPU</p></td>
<td><p>500 GiB</p></td>
<td><p>10 GiB</p></td>
<td><p>$0.00595</p></td>
<td><p>$4.00</p></td>
</tr>
</tbody>
</table>
</div>
<p>Cloud VMs are highly configurable, but a good default start is the latest LTS release of Ubuntu.</p>
<p>You can also pick a geographic <strong>region</strong> to deploy the VM to.
The location of a data center will impact latency, price, and legal considerations.</p>
</section>
<section id="object-storage">
<h4>Object Storage<a class="headerlink" href="#object-storage" title="Link to this heading">#</a></h4>
<p>AWS Simple Scalable Storage (<a class="reference external" href="https://aws.amazon.com/s3/">S3</a>) is the de facto standard for object storage.
It is <em>object storage</em>, meaning you have to store/fetch/delete entire files, rather than parts of a file
(changing parts of a file is <em>block storage</em>).</p>
<p>S3 is great for serving static webpages and files, off-site backups, or massive datalakes!</p>
<p>It has a generous free tier, then $0.023 per GB per month after that for storage.
But watch out, because the data transfer out can get pricy for large applications.</p>
</section>
<section id="security">
<h4>Security<a class="headerlink" href="#security" title="Link to this heading">#</a></h4>
<p>To be <em>extremely brief</em>:</p>
<ol class="arabic simple">
<li><p><strong>Identity and Access Management (IAM) is tricky.</strong> provides fine granularity of what people and programs can and cannot read/modify/delete <em>but</em> because it can be tricky to get these permissions correct, organizations often over-allocate permissions. Hackers love to take advantage of that.</p></li>
<li><p><strong>“Secure” is rarely the default</strong>. (According to the shared responsibility model, that’s your job!). For example, although <a class="reference external" href="https://docs.aws.amazon.com/AmazonS3/latest/userguide/default-encryption-faq.html">S3 is now encrypted by default</a>, it took years and several high-profile breeches for this to be the case!</p></li>
<li><p><strong>Managed Services Cost Money.</strong> If you want things like automatic updates, automatic logging, and more, the cloud provide can do that for you - this will help your security posture - but it cost more cash.</p></li>
</ol>
</section>
</section>
</section>
<section id="web-application-architecture">
<h2><span class="section-number">7.3. </span>Web Application Architecture<a class="headerlink" href="#web-application-architecture" title="Link to this heading">#</a></h2>
<p>Web applications are frequently described in terms of “front end” and “back end.”
In this class we are exclusively concerned with the back end.</p>
<ul class="simple">
<li><p>The <strong>front end</strong> is the pretty website that you see. It is a collection of HTML, CSS, and JavaScript.
Your web browser executes and renders the front end code.</p></li>
<li><p>The <strong>back end</strong> is the part most people never see: the logic and databases that drive the application.
This can be written in Go, Python, Rust, Kotlin, or many other languages.</p></li>
</ul>
<figure class="align-default" id="id2">
<img alt="https://media.geeksforgeeks.org/wp-content/cdn-uploads/20210204220458/Web-Application-Three-Tier-Architecture.png" src="https://media.geeksforgeeks.org/wp-content/cdn-uploads/20210204220458/Web-Application-Three-Tier-Architecture.png" />
<figcaption>
<p><span class="caption-number">Fig. 7.2 </span><span class="caption-text">The common <strong>Web Application Three Tier Architecture</strong>.
See <a class="reference external" href="https://www.geeksforgeeks.org/how-web-works-web-application-architecture-for-beginners/">GeeksForGeeks: Web Applications for Beginners</a>
for more information.</span><a class="headerlink" href="#id2" title="Link to this image">#</a></p>
</figcaption>
</figure>
<p><strong>Databases</strong> are beyond the scope of this course. As a result, the apps we build will be stateless.
They will focus on providing inference via a pre-trained model.</p>
<section id="apis">
<h3>APIs<a class="headerlink" href="#apis" title="Link to this heading">#</a></h3>
<p>Application Program Interfaces (APIs) are a programmatic way to interact with a web application.</p>
<p>There are many types, but we will use HTTP <a class="reference external" href="https://restfulapi.net/">RESTful APIs</a> in this course.</p>
<p>Representational State Transfer (REST) is a software architecture that imposes conditions on how an API should work. These APIs are <strong>stateless</strong>, meaning each request contains authentication tokens and other information and is isolated from other requests. This is in contrast to keeping a long-lived connection open.</p>
<p>Our APIs will primarily be HTTP <strong>GET</strong> requests - which get information from the server -
or <strong>POST</strong> requests - which submit data to be processed.</p>
<p>As an example <strong>GET</strong> request, you can fetch your username from GitHub!
Use the <code class="docutils literal notranslate"><span class="pre">curl</span></code> command (which makes a GET request by default):</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Replace octocat with your GitHub username</span>
curl<span class="w"> </span>https://api.github.com/users/octocat
</pre></div>
</div>
<section id="fastapi">
<h4>FastAPI<a class="headerlink" href="#fastapi" title="Link to this heading">#</a></h4>
<p>A popular Python API Framework is FastAPI. Two big reasons to use it:</p>
<ol class="arabic simple">
<li><p>The documentation is a pleasure to read</p></li>
<li><p>It supports type annotations in <a class="reference external" href="https://fastapi.tiangolo.com/tutorial/path-params/#create-an-enum-class">path parameters</a> and <a class="reference external" href="https://fastapi.tiangolo.com/tutorial/response-model/#response-model-return-type">return types</a></p></li>
</ol>
<blockquote>
<div><p>FastAPI will use this return type to:</p>
<p><strong>Validate</strong> the returned data.</p>
<ul class="simple">
<li><p>If the data is invalid (e.g. you are missing a field), it means that your app code is broken, not returning what it should, and it will return a server error instead of returning incorrect data. This way you and your clients can be certain that they will receive the data and the data shape expected.</p></li>
</ul>
<p><strong>Add a JSON Schema</strong> for the response, in the OpenAPI path operation.</p>
<ul class="simple">
<li><p>This will be used by the automatic docs.</p></li>
<li><p>It will also be used by automatic client code generation tools.</p></li>
</ul>
<p>But most importantly:</p>
<p>It will <strong>limit and filter</strong> the output data to what is defined in the return type.</p>
<ul class="simple">
<li><p>This is particularly important for <strong>security</strong></p></li>
</ul>
<p><a class="reference external" href="https://fastapi.tiangolo.com/tutorial/response-model/"><em>~ Tutorial User Guide</em></a></p>
</div></blockquote>
</section>
</section>
</section>
<section id="next-steps-fastapi-demo">
<h2><span class="section-number">7.4. </span>Next Steps: FastAPI Demo<a class="headerlink" href="#next-steps-fastapi-demo" title="Link to this heading">#</a></h2>
<p>First, log on to your Raspberry Pi. Open two terminals.</p>
<section id="terminal-1">
<h3>Terminal 1<a class="headerlink" href="#terminal-1" title="Link to this heading">#</a></h3>
<p>Open a fresh terminal. Print your current working directory.</p>
<p>Make a folder for this lab:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>mkdir<span class="w"> </span>fastapi-demo
<span class="nb">cd</span><span class="w"> </span>fastapi-demo
</pre></div>
</div>
<section id="create-python-script">
<h4>Create python script<a class="headerlink" href="#create-python-script" title="Link to this heading">#</a></h4>
<p>Next we will create the python file.</p>
<p>Run the command</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>vim<span class="w"> </span>hello.py
</pre></div>
</div>
<p>Vim is a ubiquitous text editor in linux systems. Enter insert mode by pressing the <code class="docutils literal notranslate"><span class="pre">i</span></code> key.
Then paste in this code:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">fastapi</span><span class="w"> </span><span class="kn">import</span> <span class="n">FastAPI</span>

<span class="n">app</span> <span class="o">=</span> <span class="n">FastAPI</span><span class="p">()</span>

<span class="nd">@app</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">read_root</span><span class="p">():</span>
    <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;Hello&quot;</span><span class="p">:</span> <span class="s2">&quot;World&quot;</span><span class="p">}</span>

</pre></div>
</div>
<p>Figure out <a class="reference external" href="https://trends.google.com/trends/explore?date=today%205-y&amp;amp;q=how%20to%20exit%20vim&amp;amp;hl=en">how to exit Vim</a>.</p>
<p>Once you exit the file, you can make sure you saved it properly with</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>cat<span class="w"> </span>hello.py
</pre></div>
</div>
</section>
<section id="setup-virtual-environment">
<h4>Setup Virtual Environment<a class="headerlink" href="#setup-virtual-environment" title="Link to this heading">#</a></h4>
<p>We want to isolate our Python dependencies for this project
from the system Python dependencies (or very bad things will happen).</p>
<p>Create a Python virtual environment.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python3<span class="w"> </span>-m<span class="w"> </span>venv<span class="w"> </span>.venv
</pre></div>
</div>
<p>Activate the virtual environment</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">source</span><span class="w"> </span>.venv/bin/activate
</pre></div>
</div>
<p>Verify that you are using the venv.
You should also see <code class="docutils literal notranslate"><span class="pre">.venv</span></code> ahead of your bash prompt.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Should output ~/.venv/bin/pyhton NOT /usr/bin/python</span>
which<span class="w"> </span>python
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You can use <code class="docutils literal notranslate"><span class="pre">deactivate</span></code> to exit the venv.</p>
</div>
<div class="admonition danger">
<p class="admonition-title">Danger</p>
<p>You must restart a virtual environment <em>every</em> time you open a new terminal.</p>
<p>If you forget to this and start installing things with <code class="docutils literal notranslate"><span class="pre">pip</span></code> prior to running <code class="docutils literal notranslate"><span class="pre">source</span></code> you might break your system.
If you forget to activate and start trying to run scripts they will fail because of missing modules.</p>
<p>Pay attention to where you are in your terminal!</p>
</div>
</section>
<section id="run-the-script">
<h4>Run the script<a class="headerlink" href="#run-the-script" title="Link to this heading">#</a></h4>
<p>Now that we are inside our venv (you are, right???) install FastAPI.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pip<span class="w"> </span>install<span class="w"> </span>fastapi<span class="o">[</span>standard<span class="o">]</span>
</pre></div>
</div>
<p>Check out the docs</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>fastapi<span class="w"> </span>--help
</pre></div>
</div>
<p>This shows both <code class="docutils literal notranslate"><span class="pre">dev</span></code> and <code class="docutils literal notranslate"><span class="pre">run</span></code>. Look at <code class="docutils literal notranslate"><span class="pre">dev</span></code></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>fastapi<span class="w"> </span>dev<span class="w"> </span>--help
</pre></div>
</div>
<p>This says</p>
<blockquote>
<div><p>Usage: fastapi dev [OPTIONS] [PATH]</p>
<p><strong>Run a FastAPI app in development mode. 🧪</strong></p>
<p>This is equivalent to fastapi run but with reload enabled and listening on the 127.0.0.1 address.</p>
</div></blockquote>
<p>Ok! So that’s what we want. Just keep in mind that you won’t be able to communicate with your app from external devices because
it’s only listening on loopback.</p>
<p>Run the script</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>fastapi<span class="w"> </span>dev<span class="w"> </span>hello.py
</pre></div>
</div>
<p>This will output useful info. Take note of the <strong>port</strong> it’s serving.</p>
</section>
</section>
<section id="terminal-2">
<h3>Terminal 2<a class="headerlink" href="#terminal-2" title="Link to this heading">#</a></h3>
<p>Time to hit the API!</p>
<p>Open a second terminal alongside the first, then run:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Replace xxxx with the port number you are serving the app on</span>
curl<span class="w"> </span><span class="m">127</span>.0.0.1:xxxx
</pre></div>
</div>
<p>You should see a glorious <strong>{“Hello”: “World”}</strong> returned! Yes, that’s <a class="reference external" href="https://www.w3schools.com/whatis/whatis_json.asp">JSON</a> being returned.
JSON is a standard way of representing text data, and you’ll need to learn to work with it a bit.</p>
<p>Back in <strong>Terminal 1</strong>, you should also see a “GET” request from yourself that was answered with a “200 OK” status code.</p>
<p>You don’t need to go in-depth on <a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/418">HTTP response status codes</a>, but</p>
<ul class="simple">
<li><p>100s for info</p></li>
<li><p>200s for success</p></li>
<li><p>300s for redirect</p></li>
<li><p>400s for client error</p></li>
<li><p>500s for server error</p></li>
</ul>
<p>So a “404 Not Found” error is your fault, as the client, because you requested something that doesn’t exist!</p>
</section>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./b1-prediction"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="ice-digits-dnn.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title"><span class="section-number">6. </span>ICE 2: Handwritten Digits - DNN</p>
      </div>
    </a>
    <a class="right-next"
       href="lab-digits-api.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title"><span class="section-number">8. </span>Lab 1: Handwritten Digits - FastAPI</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pre-reading">7.1. Pre-Reading</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#the-cloud">7.2. The Cloud</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cloud-resources">Cloud Resources</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#virtual-machines">Virtual Machines</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#object-storage">Object Storage</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#security">Security</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#web-application-architecture">7.3. Web Application Architecture</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#apis">APIs</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#fastapi">FastAPI</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#next-steps-fastapi-demo">7.4. Next Steps: FastAPI Demo</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#terminal-1">Terminal 1</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#create-python-script">Create python script</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#setup-virtual-environment">Setup Virtual Environment</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#run-the-script">Run the script</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#terminal-2">Terminal 2</a></li>
</ul>
</li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By DFEC
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2025.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf"></script>
<script defer src="../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>